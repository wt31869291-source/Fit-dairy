<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¥åº·æ—¥è¨˜ - Health Diary</title>
    <style>
        /* --- 1. ä¸å‚·çœ¼è«è˜­è¿ªé…è‰²æ–¹æ¡ˆ --- */
        :root {
            --bg-color: #fdfcf8;      /* ç±³ç™½è‰²èƒŒæ™¯ */
            --text-color: #4a4a4a;    /* æ·±ç¢³ç°æ–‡å­— */
            --primary-green: #a3b18a; /* é¼ å°¾è‰ç¶  (é£²é£Ÿ) */
            --primary-blue: #9eb3c2;  /* éœ§éœ¾è— (é‹å‹•/æ°´) */
            --period-pink: #eac4d5;   /* ç«ç‘°ç²‰ (ç”Ÿç†æœŸ) */
            --warning-orange: #e6a27e;/* ç£šæ©˜è‰² (è­¦ç¤º) */
            --card-bg: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding-bottom: 80px; /* ç‚ºåº•éƒ¨å°è¦½ç•™ç©ºé–“ */
            line-height: 1.6;
        }

        /* --- 2. ä½ˆå±€çµ„ä»¶ --- */
        header {
            padding: 20px;
            background: var(--card-bg);
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .coach-advice {
            background-color: #f0f4f0;
            padding: 15px;
            border-radius: 12px;
            font-size: 0.9rem;
            margin-top: 10px;
            border-left: 5px solid var(--primary-green);
        }

        .dashboard-card {
            margin: 15px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        /* --- 3. æœˆæ›†æ¨£å¼ --- */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            padding: 10px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 0.8rem;
            position: relative;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .calendar-day.today {
            border: 2px solid var(--primary-blue);
        }

        .calendar-day.selected {
            background-color: #ececec;
        }

        .dot-warning { width: 5px; height: 5px; background: red; border-radius: 50%; position: absolute; top: 5px; right: 5px; }
        .icon-gym { font-size: 0.7rem; margin-top: 2px; }

        /* --- 4. åº•éƒ¨å°è¦½åˆ— --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 70px;
            background: var(--card-bg);
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid #eee;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.7rem;
            color: #888;
            text-decoration: none;
        }

        .nav-item.active { color: var(--primary-blue); }
        .nav-icon { font-size: 1.5rem; margin-bottom: 2px; }

        /* --- 5. å·¥å…·é¡ --- */
        .hidden { display: none; }
        .btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="page-home" class="page">
        <header>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h2 style="margin:0;">å¥åº·æ—¥è¨˜</h2>
                <span id="current-date" style="font-size: 0.9rem; color: #888;">2026-01-21</span>
            </div>
            <div class="coach-advice" id="smart-advice">
                ä»Šå¤©ä¹Ÿè¦è¨˜å¾—å–æ°´å–”ï¼é©åº¦çš„é‹å‹•èƒ½è®“ä½ å¿ƒæƒ…æ›´å¥½ã€‚â¤ï¸
            </div>
        </header>

        <div class="dashboard-card">
            <h3>ä»Šæ—¥æ‘˜è¦</h3>
            <div style="display: flex; justify-content: space-around; text-align: center;">
                <div>
                    <div style="font-size: 1.2rem; font-weight: bold; color: var(--primary-blue);">0</div>
                    <small>æ¶ˆè€— kcal</small>
                </div>
                <div>
                    <div style="font-size: 1.2rem; font-weight: bold; color: var(--primary-green);">0</div>
                    <small>é£²æ°´ mL</small>
                </div>
                <div>
                    <div style="font-size: 1.2rem; font-weight: bold;">--</div>
                    <small>ç›®å‰é«”é‡</small>
                </div>
            </div>
        </div>
    </div>

    <div id="page-record" class="page hidden">
        <header><h3>é¸æ“‡æ—¥æœŸ</h3></header>
        <div class="dashboard-card" style="padding: 10px;">
            <div id="calendar" class="calendar-grid">
                </div>
        </div>
        <div id="day-summary" class="dashboard-card">
            <h4>ç•¶æ—¥æ‘˜è¦</h4>
            <p id="summary-text">è«‹é»æ“Šæ—¥æœŸæŸ¥çœ‹æ‘˜è¦ï¼Œå†æ¬¡é»æ“Šé€²å…¥ç·¨è¼¯ã€‚</p>
            <button class="btn" id="enter-edit-btn" style="display: none;">é€²å…¥è©³ç´°ç´€éŒ„</button>
        </div>
    </div>

    <nav class="bottom-nav">
        <a href="#" class="nav-item active" onclick="showPage('home')">
            <span class="nav-icon">ğŸ </span>
            <span>é¦–é </span>
        </a>
        <a href="#" class="nav-item" onclick="showPage('record')">
            <span class="nav-icon">ğŸ“</span>
            <span>ç´€éŒ„</span>
        </a>
        <a href="#" class="nav-item" onclick="showPage('chart')">
            <span class="nav-icon">ğŸ“ˆ</span>
            <span>åœ–è¡¨</span>
        </a>
        <a href="#" class="nav-item" onclick="showPage('profile')">
            <span class="nav-icon">ğŸ‘¤</span>
            <span>å€‹äºº</span>
        </a>
    </nav>

    <script>
        // --- æ ¸å¿ƒé‚è¼¯ï¼šé é¢åˆ‡æ› ---
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
            const targetPage = document.getElementById('page-' + pageId);
            if(targetPage) targetPage.classList.remove('hidden');
            
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            // é€™è£¡å¯ä»¥æ ¹æ“šé»æ“Šå°è±¡è¨­å®š active
        }

        // --- æœˆæ›†ç”Ÿæˆé‚è¼¯ (ç°¡åŒ–ç‰ˆ) ---
        function generateCalendar() {
            const calendarEl = document.getElementById('calendar');
            let daysHtml = '';
            const today = new Date().getDate();
            
            for (let i = 1; i <= 31; i++) {
                const isToday = i === today ? 'today' : '';
                daysHtml += `
                    <div class="calendar-day ${isToday}" onclick="handleDayClick(this, ${i})">
                        ${i}
                        ${i === 15 ? '<div class="dot-warning"></div>' : ''}
                        ${i === today ? '<div class="icon-gym">ğŸ‹ï¸</div>' : ''}
                    </div>
                `;
            }
            calendarEl.innerHTML = daysHtml;
        }

        let lastClickedDay = null;
        function handleDayClick(el, day) {
            if (lastClickedDay === day) {
                alert('é€²å…¥ ' + day + ' æ—¥çš„è©³ç´°ç·¨è¼¯é é¢ (åƒã€å–ã€å‹•ã€é‡)');
                // é€™è£¡ä¹‹å¾Œä¸²æ¥å‚ç›´ç´€éŒ„é 
            } else {
                // å–®æ“Šé¸å–
                document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
                el.classList.add('selected');
                document.getElementById('summary-text').innerText = `1æœˆ ${day} æ—¥ï¼šä»Šæ—¥æ”å– 1200kcalï¼Œé‹å‹•æ¶ˆè€— 200kcalï¼Œæ°´åˆ† 1500mLã€‚`;
                document.getElementById('enter-edit-btn').style.display = 'block';
                lastClickedDay = day;
            }
        }

        // åˆå§‹åŒ–
        window.onload = () => {
            generateCalendar();
            // è¨­å®šæ­£ç¢ºæ—¥æœŸ
            const now = new Date();
            document.getElementById('current-date').innerText = now.toISOString().split('T')[0];
        };
    </script>
</body>
</html>
